# **D04 - Piscine Python-Django**

쟝고 - ORM

_요약: 오늘은 쟝고의 ORM에 대해 알아봅시다._

<br>

# Contents

| Chapter | Contents                                 | page |
| :-----: | :--------------------------------------- | :--: |
|    1    | [**Instructions**](#Chapter-1)           |  2   |
|    2    | [**Today's specific rules**](#Chapter-2) |  3   |
|    3    | [**Exercise 00**](#Chapter-3)            |  5   |
|    4    | [**Exercise 01**](#Chapter-4)            |  6   |
|    5    | [**Exercise 02**](#Chapter-5)            |  7   |
|    6    | [**Exercise 03**](#Chapter-6)            |  9  |
|    7    | [**Exercise 04**](#Chapter-7)            |  11  |
|    8    | [**Exercise 05**](#Chapter-8)            |  13  |
|    9    | [**Exercise 06**](#Chapter-9)            |  15  |
|    10    | [**Exercise 07**](#Chapter-10)            |  17  |
|    11   | [**Exercise 08**](#Chapter-11)            |  19  |
|    12    | [**Exercise 09**](#Chapter-12)            |  21  |
|    13    | [**Exercise 010**](#Chapter-13)            |  23  |

<br>

# **Chapter 1**

## Instructions

<br>

노골적인 모순이 없는 이상, 해당 지침은 Python Django Piscine 모든 날짜에 적용됩니다.

- 이 페이지에 있는 내용만이 레퍼런스로 적용됩니다. 루머를 믿지 마세요!

- 조심하세요! 과제를 제출하기 한 시간 전까지도 해당 문서는 변경될 수 있습니다.

- 이번 과제들은 난이도별로 배치되어 있습니다 - 쉬운 것부터 어려운 것 까지요. 만약 쉬운 과제가 제대로 작동하지 않으면, `우리는 절 대` 어려운 과제를 (완벽하게 구현하였더라도) 채점하지 않을 것입니다.

- 파일과 디렉토리에 적절한 권한 설정을 해 주었는지 확인하세요.

- 각 과제별로 **제출 필수사항**을 지키셔야 합니다.

- 여러분의 과제는 같은 피씨너들에게 채점받고 점수가 매겨질 것입니다.

- 그리고 그 뒤에, 뮬리넷이라는 프로그램에 의해 채점되고 점수가 매겨질 것입니다. 뮬리넷은 여러분의 과제를 정말 엄격하고 꼼꼼하게 채점할 것입니다. 또한 모든 작업은 자동으로 진행되므로, 여러분이 뮬리넷과 협상하는 것은 불가능합니다. 좋지 못한 결과를 깜짝 선물로 받고 싶지 않다면, 철저히 과제에 임하세요.

- 쉘 과제들은 `/bin/sh`에 의해 실행될 수 있어야 합니다.

- 여러분은 **절대로** 명시된 제출 파일 외의 다른 파일들을 폴더 내에 남겨두시면 **안됩니다.**

- 질문 있으세요? 오른쪽 동료에게 물어보세요. 아니면 왼쪽 동료한테 물어보세요.

- 여러분이 참고할 만한 가이드는 `Google / man / 인터넷` 등이 있습니다.

- 인트라나 슬랙의 피씬 채널에서 토의하는 것을 잊지 마세요!

- 예시를 꼼꼼히 살펴보세요. 과제에 명시되지 않은 상세한 부분들이 들어있을 수도 있으니까요..

<br>

# Chapter 3

## Today's specific rules

- `python3` 인터프리터를 사용하세요.

- 모든 과제는 독립적이어야 합니다. 만약에 요구하는 기능이 이전 과제에서 다뤄졌던 경우, 현재 과제 폴더에 복사해 오세요.

- 어플리케이션과 관련된 모든 경로들은 프로젝트 폴더 내의 `urls.py`에 정의되어 있어야 합니다.

- `djangotraining`이라 이름붙여진 `postgresql` 데이터베이스에서 작업하셔야 합니다. `djangouser`이라는 역할 (role) 을 생성하고, 비밀번호를 `secret` 이라 설정하세요. 해당 역할은 모든 권한을 가져야 합니다.

- 레포지토리 폴더가 곧 쟝고 프로젝트여야 합니다. 프로젝트명은 이번 과제 날짜 (ex: day05) 로 설정하여야 합니다.

- 각 과제 (exercises) 별로 분리하여 작업하기 위해 쟝고의 어플리케이션 콘셉트를 이용할 것입니다. 모든 과제는 각 과제명 (ex: ex00, ex01,...) 으로 이름지어진 쟝고 어플리케이션에 존재하여야 하고, 어플리케이션은 레포지토리의 루트 디렉토리에 있어야 합니다.

- 쟝고 프로젝트는 적절히 설정되어 과제의 모든 요구사항에 부합하여야 합니다. 평가 도중 설정을 건드리는 것은 금지됩니다.

- 과제의 어떤 migration도 제출할 수 없습니다.

- 각 과제별로 `ORM`을 언급하는 부분이 있다면, `Django`의 ORM을 사용하여야 합니다. `SQL`은 한 줄도 사용하지 마세요.

- 각 과제별로 `SQL`을 언급하는 부분이 있다면, `psycopg2` 라이브러리를 이용하여 `SQL`의 모든 리퀘스트를 처리하여야 합니다.

다음은 krichard라는 학생의 Day42 과제 2개에 대한 제출 폴더 구조입니다 :

```sh
|-- krichard
| |-- .
| |-- ..
| |-- .git
| |-- .gitignore
| |-- d42
| | |-- __init__.py
| | |-- settings.py
| | |-- urls.py
| | |-- wsgi.py
| |-- ex00
| | |-- admin.py
| | |-- apps.py
| | |-- forms.py
| | |-- __init__.py
| | |-- models.py
| | |-- tests.py
| | |-- urls.py
| | |-- views.py
| |-- ex01
| | |-- admin.py
| | |-- apps.py
| | |-- forms.py
| | |-- __init__.py
| | |-- models.py
| | |-- tests.py
| | |-- urls.py
| | |-- views.py
| |-- manage.py
```

```
💡
현명하게 작업하세요: 코드를 분석하여 사용하기 쉽게 구성하세요. 시간을 꽤 절약할 수 있을 겁니다.
```


<br>

# Chapter 3

## Exercise 00

<br>

| **Piscine**                  | Exercise 00                                                                      |
| ---------------------------- | -------------------------------------------------------------------------------- |
| Exercise 00 : SQL-표 만들기 |
| **제출할 폴더**              | ex00/                                                                            |
| **제출할 파일**              |    |
| **허용되는 함수**            |                                                        |

<br>

이 과제를 통해, 쟝고에서 첫 번째 정적 페이지를 만들어 볼 겁니다.

`python3 virtualenv`를 하나 만드세요. `Django`를 설치하시고, 이 프로젝트의 모든 의존성 (dependencies, `pip`을 이용하여 가상환경에 설치된 모듈들 목록) 을 포함한 `requirements.txt` 를 레포지토리의 루트에 저장하세요.

`d04` 프로젝트를 시작하세요.

`ex00` 어플리케이션을 시작하세요.

여러분의 사이트에서 `/ex00` URL을 통해 검색 (접근) 가능한 페이지를 만드세요. 이 페이지에는, `Markdown`의 모든 구문들에 대한 정보를 보여주어야 합니다. 페이지의 타이틀은 `Ex00: Markdown Cheatsheet.` 이 됩니다.

페이지에서 사용할 html 템플릿 파일명은 `index.html` 입니다.

<br>

# Chapter 5

## Exercise 01

<br>

| **Piscine**                   | Exercise 01                                                                      |
| ----------------------------- | -------------------------------------------------------------------------------- |
| Exercise 01 : 페이지 몇 개 더 |
| **제출할 폴더**               | ex01/                                                                            |
| **제출할 파일**               | `: requirements.txt, 프로젝트와 어플리케이션에서 필요로 하는 모든 파일과 폴더들` |
| **허용되는 함수**             | `모든 쟝고 기능들 사용 가능`                                                     |

<br>

두 번째 어플리케이션 `ex01`에 다음 페이지들을 만드세요 :

- **제목** : "Ex01: Django, framework web."

  **URL** : /ex01/django

  **설명** : 이 페이지에서는, 쟝고와 그 역사에 대해서 소개하세요.

- **제목** : "Ex01: Display process of a static page."

  **URL** : /ex01/display

  **설명** : 이 페이지에서는, 정적 웹페이지의 모습이 간단한 템플릿에서 실제로 보여질 때까지, 요청 (request) 에서 응답 (answer) 에 이르기까지의 과정을 설명합니다.

- **제목** : "Ex01: Template engine."

  **URL** : /ex01/templates

  **설명** : 이 페이지에서는, 쟝고의 기본 템플릿 엔진의 기능을 다음 요소들의 기능과 함께 설명해야 합니다 :

  - 블럭들 (Blocks)
  - `for ... in` 루프
  - `if` 제어 구조
  - 전달된 컨텍스트 변수들의 표시

_Don't repeat yourself_ 철칙은 쟝고의 철학의 일부이기도 합니다. 이것을 존중하기 위해, 위의 요구 페이지들을 `base.html` 템플릿을 이용해 만들어 보세요.

`base.html` 템플릿은 반드시 다음 요소를 포함해야 합니다:

- `body` 내의 `content` 블록

- `head` 내의 `style` 블록

- `head` 내의 `title` 블록

또한, 과제의 페이지들의 링크를 리스트로 담고 있는 네비게이션 바를 포함한 `nav.html` 템플릿을 만드세요.

과제에서 요구하는 모든 페이지들은 `base.html` 을 토대로 만들어져야 합니다. `nav.html`은 모든 페이지에 포함되어야 합니다.

또한, `style1.css` 와 `style2.css` 를 만드세요. 전자는 텍스트 색을 _파란색 (blue)_ 으로 설정해야 하고, 후자는 텍스트 색을 _빨간색 (rouge)_ 으로 설정해주어야 합니다. 여러분은 "Template engine" 페이지를 제외한 모든 페이지에 `style1.css`를 사용해야 합니다. "Template engine" 페이지는 `style2.css`를 사용하구요.

```
⚠
이 과제에서는 각 스타일시트 (css) 를 전체 템플릿에 대해 단 한 번씩만 사용해야 합니다.
```

```
💡
평가 시에는 collectstatic을 사용할 것입니다.
```

<br>

# Chapter 6

## Exercise 02

<br>

| **Piscine**              | Exercise 02                                                                      |
| ------------------------ | -------------------------------------------------------------------------------- |
| Exercise 02 : 첫 번째 폼 |
| **제출할 폴더**          | ex02/                                                                            |
| **제출할 파일**          | `: requirements.txt, 프로젝트와 어플리케이션에서 필요로 하는 모든 파일과 폴더들` |
| **허용되는 함수**        | `모든 쟝고 기능들 사용 가능`                                                     |

<br>

URL /ex02를 통해 접근가능한 ex02 어플리케이션 페이지를 만드세요.

이 페이지는 두 파트를 포함해야 합니다:

- 텍스트 입력 필드와 `Submit` 버튼을 포함한 폼

- 과거에 입력한 값들의 기록을 담은 파트

다음은 폼에 대한 규칙입니다:

- **`절대로`** 폼의 필드를 하드코드하지 마세요. 쟝고에서 제공하는 `django.forms.Form` 클래스를 사용해서 폼을 만들어야 합니다. 그리고 이것을 템플릿 렌더링 함수에 `context`로 넘겨주어야 합니다.

다음은 입력한 값 기록에 대한 규칙입니다:

- 입력 값 기록은 처음에 빈 칸으로 시작해야 합니다.

- 텍스트 입력이 제출될 (Submit) 때마다, 여러분은 :

  - 입력과 입력받은 시간의 타임스탬프를 `logs` 파일의 끝에 나열해야 합니다. 파일이 존재하지 않을 경우엔, 자동으로 생성되어야 합니다. 파일은 ex02 어플리케이션 폴더 내에 생성되어야 합니다!

  - 입력과, 제출된 시간과 날짜를 페이지의 기록 (history) 파트에 추가하여야 합니다.

- `logs` 파일의 경로는 (파일명도 포함되어야 합니다) 프로젝트의 `settings.py` 에 선언되어 있어야 합니다. 정리하자면, 모든 제출된 내용들은 페이지의 기록과 log 파일에 타임스탬프와 함께 기록되어야 한다는 뜻입니다.

- 데이터는 반드시 지속가능하여야 합니다. 개발 서버가 재시작되더라도, 데이터가 날아가면 안 됩니다.
  대체적으로, 페이지를 다시 표시 (redisplay) 하면, 데이터가 저장되는 한 다시 표시되어야 합니다.

<br>

# Chapter 7

## Exercise 03

​
<br>

| **Piscine**                       | Exercise 03                                                                      |
| --------------------------------- | -------------------------------------------------------------------------------- |
| Exercise 03 : bic의 50가지 그림자 |
| **제출할 폴더**                   | ex03/                                                                            |
| **제출할 파일**                   | `: requirements.txt, 프로젝트와 어플리케이션에서 필요로 하는 모든 파일과 폴더들` |
| **허용되는 함수**                 | `모든 쟝고 기능들 사용 가능`                                                     |

<br>

최후의 어플리케이션 `ex03`을 제작하세요.

4개 열 \* 51 줄짜리 표를 담은 페이지를 제작하세요. (한 줄은 열의 이름을 담아야 합니다)

이 페이지는 URL /ex03을 통해 접근가능해야 합니다.

각 표의 열은 서로 다른 색으로 표시되어야 합니다 : _검정, 빨강, 파랑, 초록_

표의 각 박스들은 다음 특성을 가져야 합니다 :

- **높이** : 40 픽셀
- **너비** : 80 픽셀
- **배경색** : 열과 잘 어울리는 (matches) 색조 (color shade)

표는 각 색깔별 50가지의 음영을 표현해야 합니다.

다음과 같은 지시사항을 따르세요 :

- 여러분의 템플릿은 색상을 하드하게 포함하면 **안 됩니다**. (Your template must NOT include the colors in hard) 서로 다른 음영들은 view에서 생성되어야 하고, 전부 달라야 합니다.

- 여러분의 템플릿에서는, 총 4개의 태그 쌍 `<td></td>` 사용이 허용됩니다.
- 여러분의 템플릿에서는, 총 4개의 태그 쌍 `<th></th>` 사용이 허용됩니다.
- 표는 다음과 같이 구성되어야 합니다:
  - 행 이름을 위한 `<th></th>` 태그 쌍
  - 색 음영 라인 한 개당 `<tr></tr>` 태그 쌍
  - 색 음영 박스 한 개당 `<td></td>` 태그 쌍
